(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a742fd4"],{1276:function(e,n,t){"use strict";var r=t("d784"),a=t("44e7"),i=t("825a"),s=t("1d80"),o=t("4840"),c=t("8aa5"),l=t("50c4"),u=t("577e"),d=t("14c3"),p=t("9263"),m=t("9f7f"),h=t("d039"),v=m.UNSUPPORTED_Y,A=[].push,f=Math.min,g=4294967295,C=!h((function(){var e=/(?:)/,n=e.exec;e.exec=function(){return n.apply(this,arguments)};var t="ab".split(e);return 2!==t.length||"a"!==t[0]||"b"!==t[1]}));r("split",(function(e,n,t){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=u(s(this)),i=void 0===t?g:t>>>0;if(0===i)return[];if(void 0===e)return[r];if(!a(e))return n.call(r,e,i);var o,c,l,d=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,v=new RegExp(e.source,m+"g");while(o=p.call(v,r)){if(c=v.lastIndex,c>h&&(d.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&A.apply(d,o.slice(1)),l=o[0].length,h=c,d.length>=i))break;v.lastIndex===o.index&&v.lastIndex++}return h===r.length?!l&&v.test("")||d.push(""):d.push(r.slice(h)),d.length>i?d.slice(0,i):d}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,t){var a=s(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,a,t):r.call(u(a),n,t)},function(e,a){var s=i(this),p=u(e),m=t(r,s,p,a,r!==n);if(m.done)return m.value;var h=o(s,RegExp),A=s.unicode,C=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(v?"g":"y"),b=new h(v?"^(?:"+s.source+")":s,C),w=void 0===a?g:a>>>0;if(0===w)return[];if(0===p.length)return null===d(b,p)?[p]:[];var y=0,k=0,x=[];while(k<p.length){b.lastIndex=v?0:k;var E,_=d(b,v?p.slice(k):p);if(null===_||(E=f(l(b.lastIndex+(v?k:0)),p.length))===y)k=c(p,k,A);else{if(x.push(p.slice(y,k)),x.length===w)return x;for(var M=1;M<=_.length-1;M++)if(x.push(_[M]),x.length===w)return x;k=y=E}}return x.push(p.slice(y)),x}]}),!C,v)},"1ec4":function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function e(n){r(this,e),this.id=n.deviceId,this.label=n.label};n.default=a},"3ea9":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("main",[t("section",{staticClass:"kyc"},[1==e.tab?t("div",{staticClass:"paddin"},[t("h3",[e._v("Thông tin cơ bản")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Họ và tên"},domProps:{value:e.name},on:{input:function(n){n.target.composing||(e.name=n.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"number",placeholder:"Số điện thoại"},domProps:{value:e.phone},on:{input:function(n){n.target.composing||(e.phone=n.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"link"}],attrs:{type:"text",placeholder:"Link facebook của bạn"},domProps:{value:e.link},on:{input:function(n){n.target.composing||(e.link=n.target.value)}}}),t("div",{staticClass:"center"},[t("div",{staticClass:"btn-all",on:{click:e.firstStep}},[e._v("Tiếp tục")])])]):e._e(),2==e.tab?t("div",[t("div",{staticClass:"camera"},[t("v-easy-camera",{attrs:{output:"blob"},model:{value:e.front,callback:function(n){e.front=n},expression:"front"}})],1),t("div",{staticClass:"paddin"},[t("h3",[e._v("Chụp ảnh mặt trước CCCD/CMND")]),t("div",{staticClass:"space"},[t("div",{staticClass:"btn-all outline",on:{click:function(n){e.tab=1}}},[e._v("Quay lại")]),t("div",{class:{"btn-all":!0,disabled:!e.front},on:{click:function(n){e.tab=3}}},[e._v(" Tiếp tục ")])])])]):e._e(),3==e.tab?t("div",[t("div",{staticClass:"camera"},[t("v-easy-camera",{attrs:{output:"blob"},model:{value:e.back,callback:function(n){e.back=n},expression:"back"}})],1),t("div",{staticClass:"paddin"},[t("h3",[e._v("Chụp ảnh mặt sau CCCD/CMND")]),t("div",{staticClass:"space"},[t("div",{staticClass:"btn-all outline",on:{click:function(n){e.tab=2}}},[e._v("Quay lại")]),t("div",{class:{"btn-all":!0,disabled:!e.back},on:{click:function(n){e.tab=4}}},[e._v(" Tiếp tục ")])])])]):e._e(),4==e.tab?t("div",[t("div",{staticClass:"camera"},[t("v-easy-camera",{attrs:{output:"blob"},model:{value:e.portrait,callback:function(n){e.portrait=n},expression:"portrait"}})],1),t("div",{staticClass:"paddin"},[t("h3",[e._v("Chụp ảnh chân dung của bạn")]),t("div",{staticClass:"space"},[t("div",{staticClass:"btn-all outline",on:{click:function(n){e.tab=3}}},[e._v("Quay lại")]),t("div",{class:{"btn-all":!0,disabled:!e.portrait},on:{click:e.confirm}},[e._v(" Hoàn thành ")])])])]):e._e(),5==e.tab?t("div",{staticClass:"noti"},[e._m(0)]):e._e(),6==e.tab?t("div",{staticClass:"noti"},[e._m(1)]):e._e()]),e._m(2)])},a=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"paddin"},[t("img",{attrs:{src:"/img/success.png",alt:""}}),t("p",[e._v(" Chúc mừng bạn đã gửi yêu cầu KYC thành công. Vui lòng liên hệ Admin để được thông qua! ")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"paddin"},[t("img",{attrs:{src:"/img/error.png",alt:""}}),t("p",[e._v(" Yêu cầu KYC đã được gửi trước đó. Vui lòng liên hệ Admin để được thông qua! ")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",{staticClass:"pc"},[t("span",[e._v("Vui lòng truy cập bằng thiết bị di động!")])])}],i=(t("b0c0"),t("9911"),t("ac1f"),t("1276"),t("498a"),t("98f5")),s=t("bc3a"),o=t.n(s),c={components:{"v-easy-camera":i["a"]},data:function(){return{tab:1,name:"",phone:"",link:"",front:"",back:"",portrait:"",ip:""}},mounted:function(){this.getIP()},methods:{firstStep:function(){this.name&&this.phone&&this.link?this.validatePhone(this.phone)?this.ip?this.tab=2:this.$toast.error("Hãy cho phép Browser truy cập định vị!"):this.$toast.error("Số điện thoại không chính xác!"):this.$toast.error("Vui lòng nhập đủ thông tin!")},confirm:function(){var e=this,n=this.$route.params.id.split("-")[1],t=this.$route.params.id.split("-")[0],r=new FormData;r.append("chat_id",n),r.append("username",t),r.append("name",this.name),r.append("phone",this.phone),r.append("fb_link",this.link),r.append("ip_address",this.ip),r.append("front_photo",this.front),r.append("back_photo",this.back),r.append("portrait_photo",this.portrait),this.CallAPI("post","kyc",r,(function(n){e.tab=5}),(function(n){e.tab=6}))},validatePhone:function(e){var n=/(84|0[3|5|7|8|9])+([0-9]{8})\b/g;return n.test(e)},getIP:function(){var e=this;o.a.get("https://www.cloudflare.com/cdn-cgi/trace").then((function(n){var t=n.data.trim().split("\n").reduce((function(e,n){return n=n.split("="),e[n[0]]=n[1],e}),{});e.ip=t.ip}))}}},l=c,u=t("2877"),d=Object(u["a"])(l,r,a,!1,null,null,null);n["default"]=d.exports},"44e7":function(e,n,t){var r=t("861d"),a=t("c6b6"),i=t("b622"),s=i("match");e.exports=function(e){var n;return r(e)&&(void 0!==(n=e[s])?!!n:"RegExp"==a(e))}},"498a":function(e,n,t){"use strict";var r=t("23e7"),a=t("58a8").trim,i=t("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},5363:function(e,n,t){},5899:function(e,n){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,n,t){var r=t("1d80"),a=t("577e"),i=t("5899"),s="["+i+"]",o=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e){return function(n){var t=a(r(n));return 1&e&&(t=t.replace(o,"")),2&e&&(t=t.replace(c,"")),t}};e.exports={start:l(1),end:l(2),trim:l(3)}},"857a":function(e,n,t){var r=t("1d80"),a=t("577e"),i=/"/g;e.exports=function(e,n,t,s){var o=a(r(e)),c="<"+n;return""!==t&&(c+=" "+t+'="'+a(s).replace(i,"&quot;")+'"'),c+">"+o+"</"+n+">"}},"98f5":function(e,n,t){"use strict";(function(e){t("5363");var r=t("b935"),a=t("db16"),i=t.n(a),s={computed:{hasHeader:function(){return"undefined"!==typeof this.$slots.header&&null!==this.$slots.header},multiDevice:function(){return!!this.camera&&this.camera.devices.length>1}},data:function(){return{camera:null,canvasElementId:"canvas-"+Object(r["a"])().replace(/-/g,""),canvas:null,picture:null,pictureDataUrl:null,switching:!1,video:null,videoElementId:"video-"+Object(r["a"])().replace(/-/g,""),visibleMask:!1}},methods:{approve:function(){this.$emit("input",this.picture),this.$emit("approve",this.picture)},close:function(){this.stop(),this.$emit("close")},snapAsBlob:function(){var e=this;if(this.camera)return new Promise((function(n){e.camera.snapAsBlob().then((function(t){e.picture=t,n(t)}))}));console.error("Camera not found to take a picture")},snapAsDataUrl:function(){if(this.camera)return this.picture=this.camera.snapAsDataUrl(),this.stop(),this.mustApprove||this.$emit("input",this.picture),this.picture;console.error("Camera not found to take a picture")},start:function(){var e=this;return this.camera?(this.picture=null,this.$emit("input",null),this.$emit("loading",!0),void this.camera.start().finally((function(){return e.$emit("loading",!1)}))):(this.video=document.getElementById(this.videoElementId),this.canvas=document.getElementById(this.canvasElementId),new Promise((function(n){i.a.tryInvokePermission(e.video,e.canvas).then((function(t){e.camera=t,n(t)}))})))},stop:function(){this.camera&&this.camera.stop()},switchCamera:function(e){var n=this;if(void 0===e&&(e=!1),!this.switching||e){if(this.camera)return this.switching=!0,new Promise((function(t,r){n.camera.switch(e).then((function(){n.switching=!1,t()})).catch((function(){e?(n.switching=!1,r()):n.switchCamera(!0)}))}));console.error("No camera found to switch...")}}},mounted:function(){this.startOnMounted&&(this.$emit("loading",!0),this.start().then((function(e){e&&e.start()})).finally(this.$emit("loading",!1)))},name:"fullscreen-view-camera",props:{fullscreenZIndex:Number,mustApprove:Boolean,overlayMask:String,startOnMounted:Boolean,visibleOverlay:Boolean},watch:{picture:function(){var e=this;if(this.picture||(this.pictureDataUrl=null),this.picture instanceof Blob){var n=new FileReader;n.readAsDataURL(this.picture),n.onload=function(){e.pictureDataUrl=n.result}}else this.pictureDataUrl=this.picture}}};function o(e,n,t,r,a,i,s,o,c,l){"boolean"!==typeof s&&(c=o,o=s,s=!1);var u,d="function"===typeof t?t.options:t;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,a&&(d.functional=!0)),r&&(d._scopeId=r),i?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=u):n&&(u=s?function(e){n.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,o(e))}),u)if(d.functional){var p=d.render;d.render=function(e,n){return u.call(n),p(e,n)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,u):[u]}return t}var c,l="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function u(e){return function(e,n){return p(e,n)}}var d={};function p(e,n){var t=l?n.media||"default":e,r=d[t]||(d[t]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var a=n.source;if(n.map&&(a+="\n/*# sourceURL="+n.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",n.media&&r.element.setAttribute("media",n.media),void 0===c&&(c=document.head||document.getElementsByTagName("head")[0]),c.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(a),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var i=r.ids.size-1,s=document.createTextNode(a),o=r.element.childNodes;o[i]&&r.element.removeChild(o[i]),o.length?r.element.insertBefore(s,o[i]):r.element.appendChild(s)}}}var m=s,h=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"fullscreen-camera",style:{"z-index":e.fullscreenZIndex}},[t("div",{staticClass:"camera-stack"},[t("div",{staticClass:"camera-stack-header"},[e._t("header"),e._v(" "),e.hasHeader?e._e():t("a",{staticClass:"close-button",attrs:{role:"button"},on:{click:e.close}},[e._v("×")])],2),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.picture,expression:"!picture"}],staticClass:"video-wrapper"},[t("video",{attrs:{id:e.videoElementId,autoplay:"",playsinline:""}}),e._v(" "),t("div",{staticClass:"overlay-mask",class:{"visible-overlay":e.visibleOverlay}},[e.visibleMask?t("img",{attrs:{src:e.overlayMask}}):e._e()])]),e._v(" "),t("canvas",{staticStyle:{display:"none"},attrs:{id:e.canvasElementId}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.picture,expression:"picture"}],staticClass:"camera-snap",style:{"background-image":"url("+e.pictureDataUrl+")"}}),e._v(" "),t("div",{staticClass:"camera-stack-controls",class:{background:!!e.picture}},[t("div",{staticClass:"camera-stack-controls-wrapper"},[t("div",{staticClass:"control-slot"},[e.overlayMask&&!e.picture?t("a",{staticClass:"secondary-button",attrs:{role:"button"},on:{click:function(n){e.visibleMask=!e.visibleMask}}},[t("i",{staticClass:"mdi mdi-grid-large"})]):e._e()]),e._v(" "),t("div",{staticClass:"control-slot"},[e.picture?e._e():t("a",{attrs:{role:"button"},on:{click:function(n){return e.$emit("snap")}}},[t("i",{staticClass:"mdi mdi-circle"})]),e._v(" "),e.picture&&e.mustApprove?t("a",{attrs:{role:"button"},on:{click:e.approve}},[t("i",{staticClass:"mdi mdi-check"})]):e._e()]),e._v(" "),t("div",{staticClass:"control-slot"},[e.multiDevice&&!e.picture?t("a",{staticClass:"secondary-button",attrs:{disabled:e.switching,role:"button"},on:{click:function(n){return e.switchCamera(!1)}}},[t("i",{staticClass:"mdi mdi-camera-switch"})]):e._e(),e._v(" "),e.picture?t("a",{staticClass:"secondary-button",attrs:{role:"button"},on:{click:e.start}},[t("i",{staticClass:"mdi mdi-camera-retake-outline"})]):e._e()])])])])])},v=[];h._withStripped=!0;var A=function(e){e&&e("data-v-36306e52_0",{source:".fullscreen-camera[data-v-36306e52] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n.fullscreen-camera .camera-stack[data-v-36306e52] {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: 100%;\n}\n.fullscreen-camera .camera-stack .camera-stack-header a.close-button[data-v-36306e52] {\n  position: fixed;\n  top: 5px;\n  right: 15px;\n  color: #fff;\n  font-family: Roboto, Tahoma;\n  font-size: 2.5rem;\n  line-height: 40px;\n  font-weight: 300 !important;\n  z-index: 100;\n}\n.fullscreen-camera .camera-stack .video-wrapper[data-v-36306e52] {\n  height: 100%;\n  width: 100%;\n  align-self: stretch;\n  align-items: center;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n.fullscreen-camera .camera-stack .video-wrapper video[data-v-36306e52] {\n  object-fit: cover;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: -1;\n}\n.fullscreen-camera .camera-stack .video-wrapper .overlay-mask[data-v-36306e52] {\n  max-width: 50vh;\n  max-height: 50vh;\n  width: 100%;\n  height: 100%;\n  margin-top: 10vh;\n}\n.fullscreen-camera .camera-stack .video-wrapper .overlay-mask.visible-overlay[data-v-36306e52] {\n  box-shadow: 0px 0px 2000px 2000px rgba(0, 0, 0, 0.8);\n}\n.fullscreen-camera .camera-stack .video-wrapper .overlay-mask img[data-v-36306e52] {\n  width: 100%;\n}\n.fullscreen-camera .camera-stack .camera-snap[data-v-36306e52] {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  width: 100%;\n  height: 100%;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls[data-v-36306e52] {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  position: fixed;\n  bottom: 0;\n  padding: 5vh 0px;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls.background[data-v-36306e52] {\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper[data-v-36306e52] {\n  max-width: 500px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper .control-slot[data-v-36306e52] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0.8;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper .control-slot a[data-v-36306e52] {\n  color: #fff;\n  border-radius: 100%;\n  font-size: 35pt;\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0px 0px 1px 2px #fff;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper .control-slot a i[data-v-36306e52]:before {\n  display: block !important;\n  line-height: normal !important;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper .control-slot a.secondary-button[data-v-36306e52] {\n  font-size: 15pt;\n  padding: 10px;\n}\n\n/*# sourceMappingURL=FullscreenViewCamera.vue.map */",map:{version:3,sources:["D:\\Projects\\easy-vue-camera\\src\\components\\FullscreenViewCamera.vue","FullscreenViewCamera.vue"],names:[],mappings:"AAgMA;EACA,eAAA;EACA,OAAA;EACA,MAAA;EACA,WAAA;EACA,YAAA;AC/LA;ADgMA;EACA,aAAA;EACA,sBAAA;EACA,kBAAA;EACA,YAAA;AC9LA;ADiMA;EACA,eAAA;EACA,QAAA;EACA,WAAA;EACA,WAAA;EACA,2BAAA;EACA,iBAAA;EACA,iBAAA;EACA,2BAAA;EACA,YAAA;AC/LA;ADmMA;EACA,YAAA;EACA,WAAA;EACA,mBAAA;EACA,mBAAA;EACA,kBAAA;EACA,aAAA;EACA,sBAAA;ACjMA;ADkMA;EACA,iBAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,WAAA;AChMA;ADkMA;EACA,eAAA;EACA,gBAAA;EACA,WAAA;EACA,YAAA;EACA,gBAAA;AChMA;ADiMA;EACA,oDAAA;AC/LA;ADiMA;EACA,WAAA;AC/LA;ADmMA;EACA,4BAAA;EACA,2BAAA;EACA,sBAAA;EACA,WAAA;EACA,YAAA;ACjMA;ADmMA;EACA,WAAA;EACA,aAAA;EACA,mBAAA;EACA,eAAA;EACA,SAAA;EACA,gBAAA;ACjMA;ADkMA;EACA,+CAAA;AChMA;ADkMA;EACA,gBAAA;EACA,WAAA;EACA,aAAA;EACA,mBAAA;EACA,cAAA;AChMA;ADiMA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,YAAA;AC/LA;ADgMA;EACA,WAAA;EACA,mBAAA;EACA,eAAA;EACA,YAAA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,gCAAA;AC9LA;ADgMA;EACA,yBAAA;EACA,8BAAA;AC9LA;ADiMA;EACA,eAAA;EACA,aAAA;AC/LA;;AAEA,mDAAmD",file:"FullscreenViewCamera.vue",sourcesContent:['<template>\r\n    <div :style="{\'z-index\': fullscreenZIndex}" class="fullscreen-camera">\r\n        <div class="camera-stack">\r\n            <div class="camera-stack-header">\r\n                <slot name="header"></slot>\r\n                <a  @click="close"\r\n                    class="close-button"\r\n                    role="button"\r\n                    v-if="!hasHeader">&times;</a>\r\n            </div>\r\n            <div class="video-wrapper" v-show="!picture">\r\n                <video :id="videoElementId" autoplay playsinline></video>\r\n                <div :class="{\'visible-overlay\': visibleOverlay}" class="overlay-mask">\r\n                    <img :src="overlayMask" v-if="visibleMask">\r\n                </div>\r\n            </div>\r\n            <canvas :id="canvasElementId" style="display: none"></canvas>\r\n            <div :style="{\'background-image\' : `url(${pictureDataUrl})`}" class="camera-snap" v-show="picture"></div>\r\n            <div :class="{\'background\': !!picture}" class="camera-stack-controls">\r\n                <div class="camera-stack-controls-wrapper">\r\n                    <div class="control-slot">\r\n                        <a @click="visibleMask = !visibleMask" class="secondary-button" role="button" v-if="overlayMask && !picture"><i class="mdi mdi-grid-large"></i></a>\r\n                    </div>\r\n                    <div class="control-slot">\r\n                        <a @click="$emit(\'snap\')" role="button" v-if="!picture"><i class="mdi mdi-circle"></i></a>\r\n                        <a @click="approve" role="button" v-if="picture && mustApprove"><i class="mdi mdi-check"></i></a>\r\n                    </div>\r\n                    <div class="control-slot">\r\n                        <a @click="switchCamera(false)" \r\n                            :disabled="switching" \r\n                            class="secondary-button" \r\n                            role="button" \r\n                            v-if="multiDevice && !picture"><i class="mdi mdi-camera-switch"></i></a>\r\n                        <a @click="start"\r\n                            class="secondary-button"\r\n                            role="button"\r\n                            v-if="picture"><i class="mdi mdi-camera-retake-outline"></i></a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuid4 } from \'uuid\';\r\nimport Camera from \'easy-js-camera\';\r\n\r\nexport default {\r\n    computed: {\r\n        hasHeader() {\r\n            return typeof this.$slots.header !== \'undefined\' && this.$slots.header !== null;\r\n        },\r\n        multiDevice() {\r\n            if(!this.camera) return false;\r\n            return this.camera.devices.length > 1;\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            camera: null,\r\n            canvasElementId: `canvas-${uuid4().replace(/-/g, \'\')}`,\r\n            canvas: null,\r\n            picture: null,\r\n            pictureDataUrl: null,\r\n            switching: false,\r\n            video: null,\r\n            videoElementId: `video-${uuid4().replace(/-/g, \'\')}`,\r\n            visibleMask: false,\r\n        }\r\n    },\r\n    methods: {\r\n        approve() {\r\n            this.$emit(\'input\', this.picture);\r\n            this.$emit(\'approve\', this.picture);\r\n        },\r\n        close() {\r\n            this.stop();\r\n            this.$emit(\'close\');\r\n        },\r\n        snapAsBlob() {\r\n            if(!this.camera) {\r\n                console.error(\'Camera not found to take a picture\');\r\n                return;\r\n            }            \r\n            return new Promise(resolve => {\r\n                this.camera.snapAsBlob()\r\n                    .then(picture => {\r\n                        this.picture = picture;\r\n                        resolve(picture);\r\n                    });\r\n            });\r\n        }, \r\n        snapAsDataUrl() {\r\n            if(!this.camera) {\r\n                console.error(\'Camera not found to take a picture\');\r\n                return;\r\n            }\r\n            this.picture = this.camera.snapAsDataUrl();\r\n            this.stop();\r\n            if(!this.mustApprove) {\r\n                this.$emit(\'input\', this.picture);\r\n            }\r\n            return this.picture;\r\n        },\r\n        start() {\r\n            if(this.camera) {\r\n                this.picture = null;\r\n                this.$emit(\'input\', null);\r\n                this.$emit(\'loading\', true);\r\n                this.camera.start()\r\n                    .finally(() => this.$emit(\'loading\', false));\r\n                return;\r\n            }\r\n            this.video = document.getElementById(this.videoElementId);\r\n            this.canvas = document.getElementById(this.canvasElementId);\r\n            return new Promise(resolve => {\r\n                Camera.tryInvokePermission(this.video, this.canvas)\r\n                    .then(camera => {\r\n                        this.camera = camera;\r\n                        resolve(camera);\r\n                    });\r\n            });\r\n        },\r\n        stop() {\r\n            if(!this.camera) {\r\n                return;\r\n            }\r\n            this.camera.stop();\r\n        },\r\n        switchCamera(tryAgain = false) {\r\n            if(this.switching && !tryAgain) return;\r\n            if(!this.camera) {\r\n                console.error(\'No camera found to switch...\');\r\n                return;\r\n            }\r\n            this.switching = true;\r\n            return new Promise((resolve, reject) => {\r\n                this.camera.switch(tryAgain)\r\n                    .then(() => {\r\n                        this.switching = false;\r\n                        resolve();\r\n                    })\r\n                    .catch(() => {\r\n                        if(!tryAgain) {\r\n                            this.switchCamera(true);\r\n                        } else {\r\n                            this.switching = false;\r\n                            reject();\r\n                        }\r\n                    })\r\n            });\r\n        }\r\n    },\r\n    mounted() {\r\n        if(this.startOnMounted) {\r\n            this.$emit(\'loading\', true);\r\n            this.start()\r\n                .then(camera => {\r\n                    if(camera) {\r\n                        camera.start();\r\n                    }\r\n                })\r\n                .finally(this.$emit(\'loading\', false));\r\n        }\r\n    },\r\n    name: \'fullscreen-view-camera\',\r\n    props: {\r\n        fullscreenZIndex: Number,\r\n        mustApprove: Boolean,\r\n        overlayMask: String,\r\n        startOnMounted: Boolean,\r\n        visibleOverlay: Boolean,\r\n    },\r\n    watch: {\r\n        picture() {\r\n            if(!this.picture) this.pictureDataUrl = null;\r\n            if(!(this.picture instanceof Blob)) {\r\n                this.pictureDataUrl = this.picture;\r\n            } else {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(this.picture);\r\n                reader.onload = () => {\r\n                    this.pictureDataUrl = reader.result;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n<\/script>\r\n\r\n<style lang="scss" scoped>\r\n.fullscreen-camera {\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    .camera-stack {\r\n        display: flex;\r\n        flex-direction: column;\r\n        position: relative;\r\n        height: 100%;\r\n        .camera-stack-header {\r\n            a {\r\n                &.close-button {\r\n                    position: fixed;\r\n                    top: 5px;\r\n                    right: 15px;\r\n                    color: #fff;\r\n                    font-family: Roboto, Tahoma;\r\n                    font-size: 2.5rem;\r\n                    line-height: 40px;\r\n                    font-weight: 300 !important;\r\n                    z-index: 100;\r\n                }\r\n            }\r\n        }\r\n        .video-wrapper {\r\n            height: 100%;\r\n            width: 100%;\r\n            align-self: stretch;\r\n            align-items: center;\r\n            position: relative;\r\n            display: flex;\r\n            flex-direction: column;\r\n            video {\r\n                object-fit: cover;\r\n                position: absolute;\r\n                width: 100%;\r\n                height: 100%;\r\n                z-index: -1;\r\n            }\r\n            .overlay-mask {\r\n                max-width: 50vh;\r\n                max-height: 50vh;\r\n                width: 100%;\r\n                height: 100%;\r\n                margin-top: 10vh;\r\n                &.visible-overlay {\r\n                    box-shadow: 0px 0px 2000px 2000px rgba(0, 0, 0, .8);\r\n                }\r\n                img {\r\n                    width: 100%;\r\n                }\r\n            }\r\n        }\r\n        .camera-snap {\r\n            background-repeat: no-repeat;\r\n            background-position: center;\r\n            background-size: cover;\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n        .camera-stack-controls {\r\n            width: 100%;\r\n            display: flex;\r\n            align-items: center;\r\n            position: fixed;\r\n            bottom: 0;\r\n            padding: 5vh 0px;\r\n            &.background {\r\n                background-color: rgba(0, 0, 0, .8) !important;\r\n            }\r\n            .camera-stack-controls-wrapper {\r\n                max-width: 500px;\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: center;\r\n                margin: 0 auto;\r\n                .control-slot {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    opacity: .8;\r\n                    a {\r\n                        color: #fff;\r\n                        border-radius: 100%;\r\n                        font-size: 35pt;\r\n                        padding: 8px;\r\n                        display: flex;\r\n                        align-items: center;\r\n                        justify-content: center;\r\n                        box-shadow: 0px 0px 1px 2px #fff;\r\n                        i {\r\n                            &:before {\r\n                                display: block !important;\r\n                                line-height: normal !important;\r\n                            }\r\n                        }\r\n                        &.secondary-button {\r\n                            font-size: 15pt;\r\n                            padding: 10px;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>',".fullscreen-camera {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n.fullscreen-camera .camera-stack {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: 100%;\n}\n.fullscreen-camera .camera-stack .camera-stack-header a.close-button {\n  position: fixed;\n  top: 5px;\n  right: 15px;\n  color: #fff;\n  font-family: Roboto, Tahoma;\n  font-size: 2.5rem;\n  line-height: 40px;\n  font-weight: 300 !important;\n  z-index: 100;\n}\n.fullscreen-camera .camera-stack .video-wrapper {\n  height: 100%;\n  width: 100%;\n  align-self: stretch;\n  align-items: center;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n.fullscreen-camera .camera-stack .video-wrapper video {\n  object-fit: cover;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: -1;\n}\n.fullscreen-camera .camera-stack .video-wrapper .overlay-mask {\n  max-width: 50vh;\n  max-height: 50vh;\n  width: 100%;\n  height: 100%;\n  margin-top: 10vh;\n}\n.fullscreen-camera .camera-stack .video-wrapper .overlay-mask.visible-overlay {\n  box-shadow: 0px 0px 2000px 2000px rgba(0, 0, 0, 0.8);\n}\n.fullscreen-camera .camera-stack .video-wrapper .overlay-mask img {\n  width: 100%;\n}\n.fullscreen-camera .camera-stack .camera-snap {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  width: 100%;\n  height: 100%;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  position: fixed;\n  bottom: 0;\n  padding: 5vh 0px;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls.background {\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper {\n  max-width: 500px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper .control-slot {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0.8;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper .control-slot a {\n  color: #fff;\n  border-radius: 100%;\n  font-size: 35pt;\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0px 0px 1px 2px #fff;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper .control-slot a i:before {\n  display: block !important;\n  line-height: normal !important;\n}\n.fullscreen-camera .camera-stack .camera-stack-controls .camera-stack-controls-wrapper .control-slot a.secondary-button {\n  font-size: 15pt;\n  padding: 10px;\n}\n\n/*# sourceMappingURL=FullscreenViewCamera.vue.map */"]},media:void 0})},f="data-v-36306e52",g=void 0,C=!1,b=o({render:h,staticRenderFns:v},A,m,f,C,g,!1,u,void 0,void 0),w={data:function(){return{camera:null,canvasElementId:"canvas-"+Object(r["a"])().replace(/-/g,""),canvas:null,picture:null,switching:!1,video:null,videoElementId:"video-"+Object(r["a"])().replace(/-/g,""),visibleMask:!1}},methods:{snapAsBlob:function(){var e=this;if(this.camera)return new Promise((function(n){e.camera.snapAsBlob().then((function(t){e.picture=t,n(t)}))}));console.error("Camera not found to take a picture")},snapAsDataUrl:function(){if(this.camera)return this.picture=this.camera.snapAsDataUrl(),this.stop(),this.picture;console.error("Camera not found to take a picture")},start:function(){var e=this;return this.camera?(this.picture=null,this.$emit("loading",!0),void this.camera.start().finally((function(){return e.$emit("loading",!1)}))):(this.video=document.getElementById(this.videoElementId),this.canvas=document.getElementById(this.canvasElementId),new Promise((function(n){i.a.tryInvokePermission(e.video,e.canvas).then((function(t){e.camera=t,n(t)}))})))},stop:function(){this.camera&&this.camera.stop()},switchCamera:function(e){var n=this;if(void 0===e&&(e=!1),!this.switching||e){if(this.camera)return this.switching=!0,new Promise((function(t,r){n.camera.switch(e).then((function(){n.switching=!1,t()})).catch((function(){e?(n.switching=!1,r()):n.switchCamera(!0)}))}));console.error("No camera found to switch...")}},toggleMask:function(){this.visibleMask=!this.visibleMask}},mounted:function(){this.startOnMounted&&(this.$emit("loading",!0),this.start().then((function(e){e&&e.start()})).finally(this.$emit("loading",!1)))},name:"standard-view-camera",props:{overlayMask:String,startOnMounted:Boolean,visibleOverlay:Boolean}},y=w,k=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"video-wrapper"},[t("video",{directives:[{name:"show",rawName:"v-show",value:!e.picture,expression:"!picture"}],attrs:{id:e.videoElementId,autoplay:"",playsinline:""}}),e._v(" "),t("canvas",{directives:[{name:"show",rawName:"v-show",value:e.picture,expression:"picture"}],attrs:{id:e.canvasElementId}}),e._v(" "),t("div",{staticClass:"overlay",class:{"visible-overlay":e.visibleOverlay}},[e.visibleMask?t("img",{attrs:{src:e.overlayMask}}):e._e()])])},x=[];k._withStripped=!0;var E=function(e){e&&e("data-v-17eb9e5b_0",{source:".video-wrapper[data-v-17eb9e5b] {\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.video-wrapper video[data-v-17eb9e5b] {\n  width: 100%;\n  height: auto;\n}\n.video-wrapper canvas[data-v-17eb9e5b] {\n  width: 100%;\n  height: auto;\n}\n.video-wrapper .overlay[data-v-17eb9e5b] {\n  position: absolute;\n  left: 100%;\n  transform: translateX(-50%);\n  height: 100%;\n  width: auto;\n  display: flex;\n}\n.video-wrapper .overlay.visible-overlay[data-v-17eb9e5b] {\n  box-shadow: 0px 0px 2000px 2000px rgba(0, 0, 0, 0.8);\n}\n.video-wrapper .overlay img[data-v-17eb9e5b] {\n  height: auto;\n}\n\n/*# sourceMappingURL=StandardViewCamera.vue.map */",map:{version:3,sources:["D:\\Projects\\easy-vue-camera\\src\\components\\StandardViewCamera.vue","StandardViewCamera.vue"],names:[],mappings:"AA0HA;EACA,gBAAA;EACA,aAAA;EACA,mBAAA;EACA,kBAAA;ACzHA;AD0HA;EACA,WAAA;EACA,YAAA;ACxHA;AD0HA;EACA,WAAA;EACA,YAAA;ACxHA;AD0HA;EACA,kBAAA;EACA,UAAA;EACA,2BAAA;EACA,YAAA;EACA,WAAA;EACA,aAAA;ACxHA;ADyHA;EACA,oDAAA;ACvHA;ADyHA;EACA,YAAA;ACvHA;;AAEA,iDAAiD",file:"StandardViewCamera.vue",sourcesContent:["<template>\r\n    <div class=\"video-wrapper\">\r\n        <video :id=\"videoElementId\" autoplay playsinline v-show=\"!picture\"></video>\r\n        <canvas :id=\"canvasElementId\" v-show=\"picture\"></canvas>\r\n        <div :class=\"{'visible-overlay': visibleOverlay}\" class=\"overlay\">\r\n            <img :src=\"overlayMask\" v-if=\"visibleMask\">\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuid4 } from 'uuid';\r\nimport Camera from 'easy-js-camera';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            camera: null,\r\n            canvasElementId: `canvas-${uuid4().replace(/-/g, '')}`,\r\n            canvas: null,\r\n            picture: null,\r\n            switching: false,\r\n            video: null,\r\n            videoElementId: `video-${uuid4().replace(/-/g, '')}`,\r\n            visibleMask: false,\r\n        }\r\n    },\r\n    methods: {\r\n        snapAsBlob() {\r\n            if(!this.camera) {\r\n                console.error('Camera not found to take a picture');\r\n                return;\r\n            }            \r\n            return new Promise(resolve => {\r\n                this.camera.snapAsBlob()\r\n                    .then(picture => {\r\n                        this.picture = picture;\r\n                        resolve(picture);\r\n                    });\r\n            });\r\n        }, \r\n        snapAsDataUrl() {\r\n            if(!this.camera) {\r\n                console.error('Camera not found to take a picture');\r\n                return;\r\n            }\r\n            this.picture = this.camera.snapAsDataUrl();\r\n            this.stop();\r\n            return this.picture;\r\n        },\r\n        start() {\r\n            if(this.camera) {\r\n                this.picture = null;\r\n                this.$emit('loading', true);\r\n                this.camera.start()\r\n                    .finally(() => this.$emit('loading', false));\r\n                return;\r\n            }\r\n            this.video = document.getElementById(this.videoElementId);\r\n            this.canvas = document.getElementById(this.canvasElementId);\r\n            return new Promise(resolve => {\r\n                Camera.tryInvokePermission(this.video, this.canvas)\r\n                    .then(camera => {\r\n                        this.camera = camera;\r\n                        resolve(camera);\r\n                    });\r\n            });\r\n        },\r\n        stop() {\r\n            if(!this.camera) {\r\n                return;\r\n            }\r\n            this.camera.stop();\r\n        },\r\n        switchCamera(tryAgain = false) {\r\n            if(this.switching && !tryAgain) return;\r\n            if(!this.camera) {\r\n                console.error('No camera found to switch...');\r\n                return;\r\n            }\r\n            this.switching = true;\r\n            return new Promise((resolve, reject) => {\r\n                this.camera.switch(tryAgain)\r\n                    .then(() => {\r\n                        this.switching = false;\r\n                        resolve();\r\n                    })\r\n                    .catch(() => {\r\n                        if(!tryAgain) {\r\n                            this.switchCamera(true);\r\n                        } else {\r\n                            this.switching = false;\r\n                            reject();\r\n                        }\r\n                    })\r\n            });\r\n        },\r\n        toggleMask() {\r\n            this.visibleMask = !this.visibleMask;\r\n        }\r\n    },\r\n    mounted() {\r\n        if(this.startOnMounted) {\r\n            this.$emit('loading', true);\r\n            this.start()\r\n                .then(camera => {\r\n                    if(camera) {\r\n                        camera.start();\r\n                    }\r\n                })\r\n                .finally(this.$emit('loading', false));\r\n        }\r\n    },\r\n    name: 'standard-view-camera',\r\n    props: {\r\n        overlayMask: String,\r\n        startOnMounted: Boolean,\r\n        visibleOverlay: Boolean\r\n    }\r\n}\r\n<\/script>\r\n<style lang=\"scss\" scoped>\r\n.video-wrapper {\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    position: relative;\r\n    video {\r\n        width: 100%;\r\n        height: auto;\r\n    }\r\n    canvas {\r\n        width: 100%;\r\n        height: auto;\r\n    }\r\n    .overlay {\r\n        position: absolute;\r\n        left: 100%;\r\n        transform: translateX(-50%);\r\n        height: 100%;\r\n        width: auto;\r\n        display: flex;\r\n        &.visible-overlay {\r\n            box-shadow: 0px 0px 2000px 2000px rgba(0, 0, 0, .8);\r\n        }\r\n        img {\r\n            height: auto;\r\n        }\r\n    }\r\n}\r\n</style>",".video-wrapper {\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.video-wrapper video {\n  width: 100%;\n  height: auto;\n}\n.video-wrapper canvas {\n  width: 100%;\n  height: auto;\n}\n.video-wrapper .overlay {\n  position: absolute;\n  left: 100%;\n  transform: translateX(-50%);\n  height: 100%;\n  width: auto;\n  display: flex;\n}\n.video-wrapper .overlay.visible-overlay {\n  box-shadow: 0px 0px 2000px 2000px rgba(0, 0, 0, 0.8);\n}\n.video-wrapper .overlay img {\n  height: auto;\n}\n\n/*# sourceMappingURL=StandardViewCamera.vue.map */"]},media:void 0})},_="data-v-17eb9e5b",M=void 0,D=!1,$=o({render:k,staticRenderFns:x},E,y,_,D,M,!1,u,void 0,void 0),B={dataUrl:"dataUrl",blob:"blob"},I=function(){};I.isTouchScreen=function(){var e=navigator.maxTouchPoints>0||"ontouchstart"in document.documentElement;return e};var S={components:{FullscreenViewCamera:b,StandardViewCamera:$},computed:{isTouchScreen:function(){return I.isTouchScreen()},multiDevice:function(){return!!this.refCameraComponent&&this.refCameraComponent.camera.devices.length>1},refCameraComponent:function(){return this.refFullscreenCamera?this.refFullscreenCamera:this.refStandardCamera},refFullscreenCamera:function(){return this.$refs.fullscreenCameraRef},refStandardCamera:function(){return this.$refs.standardCameraRef},viewFullscreen:function(){return this.fullscreen||this.isTouchScreen&&this.autoDetectMobile},viewStandard:function(){return!this.viewFullscreen}},data:function(){return{camera:null}},methods:{close:function(){this.refFullscreenCamera?this.refFullscreenCamera.close():(this.stop(),this.$emit("close"))},snap:function(){var e=this;if(this.output===B.dataUrl){var n=this.refCameraComponent.snapAsDataUrl();this.stop(),this.mustApprove&&this.fullscreen||this.$emit("input",n)}else this.$emit("loading",!0),this.refCameraComponent.snapAsBlob().then((function(n){e.stop(),e.mustApprove&&e.fullscreen||e.$emit("input",n)})).finally((function(){return e.$emit("loading",!1)}))},start:function(){var e=this;this.$emit("loading",!0),this.refCameraComponent.start((function(n){n&&(e.$emit("loading",!0),n.start().finally((function(){return e.$emit("loading",!1)})))}))},stop:function(){null!==this.refCameraComponent&&this.refCameraComponent.stop()},switchCamera:function(){var e=this;this.refCameraComponent&&(this.$emit("loading",!0),this.refCameraComponent.switchCamera(!1).finally((function(){return e.$emit("loading",!1)})))},toggleMask:function(){this.refStandardCamera&&this.refStandardCamera.toggleMask()}},name:"easy-camera",props:{autoDetectMobile:{type:Boolean,default:!0},fullscreen:Boolean,fullscreenZIndex:{type:Number,default:17},mustApprove:{type:Boolean,default:!1},output:{type:String,default:B.dataUrl},overlayMask:{type:String,default:null},startOnMounted:{type:Boolean,default:!0},value:{},visibleOverlay:Boolean}},U=S,R=function(){var e=this,n=this,t=n.$createElement,r=n._self._c||t;return n.viewFullscreen?r("fullscreen-view-camera",{ref:"fullscreenCameraRef",attrs:{"fullscreen-z-index":n.fullscreenZIndex,"must-approve":n.mustApprove,"overlay-mask":n.overlayMask,"start-on-mounted":n.startOnMounted,"visible-overlay":n.visibleOverlay},on:{approve:function(n){e.$emit("approve",n),e.$emit("input",n)},loading:function(n){e.$emit("loading",n)},snap:n.snap,close:function(e){return n.$emit("close")}},scopedSlots:n._u([{key:"header",fn:function(){return[n._t("header")]},proxy:!0}],null,!0)}):r("standard-view-camera",{ref:"standardCameraRef",attrs:{"overlay-mask":n.overlayMask,"start-on-mounted":n.startOnMounted,"visible-overlay":n.visibleOverlay},on:{loading:function(n){e.$emit("loading",!0)}}})},P=[];R._withStripped=!0;var O=void 0,j=void 0,V=void 0,F=!1,L=o({render:R,staticRenderFns:P},O,U,j,F,V,!1,void 0,void 0,void 0);function T(e){T.installed||(T.installed=!0,e.component("v-easy-camera",L))}var z={install:T},N=null;"undefined"!==typeof window?N=window.Vue:"undefined"!==typeof e&&(N=e.Vue),N&&N.use(z),n["a"]=L}).call(this,t("c8ba"))},9911:function(e,n,t){"use strict";var r=t("23e7"),a=t("857a"),i=t("af03");r({target:"String",proto:!0,forced:i("link")},{link:function(e){return a(this,"a","href",e)}})},af03:function(e,n,t){var r=t("d039");e.exports=function(e){return r((function(){var n=""[e]('"');return n!==n.toLowerCase()||n.split('"').length>3}))}},b0c0:function(e,n,t){var r=t("83ab"),a=t("9bf2").f,i=Function.prototype,s=i.toString,o=/^\s*function ([^ (]*)/,c="name";r&&!(c in i)&&a(i,c,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(e){return""}}})},b935:function(e,n,t){"use strict";var r,a=new Uint8Array(16);function i(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function o(e){return"string"===typeof e&&s.test(e)}for(var c=o,l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(l[e[n+0]]+l[e[n+1]]+l[e[n+2]]+l[e[n+3]]+"-"+l[e[n+4]]+l[e[n+5]]+"-"+l[e[n+6]]+l[e[n+7]]+"-"+l[e[n+8]]+l[e[n+9]]+"-"+l[e[n+10]]+l[e[n+11]]+l[e[n+12]]+l[e[n+13]]+l[e[n+14]]+l[e[n+15]]).toLowerCase();if(!c(t))throw TypeError("Stringified UUID is invalid");return t}var p=d;function m(e,n,t){e=e||{};var r=e.random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0;for(var a=0;a<16;++a)n[t+a]=r[a];return n}return p(r)}n["a"]=m},c8d2:function(e,n,t){var r=t("d039"),a=t("5899"),i="​᠎";e.exports=function(e){return r((function(){return!!a[e]()||i[e]()!=i||a[e].name!==e}))}},db16:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Constraints=void 0;var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t("1ec4"),i=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var c=n.Constraints=function(){function e(){o(this,e),this.video={facingMode:"user"},this.audio=!1}return r(e,[{key:"switchFacingMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"user"===this.video.facingMode?this.video.facingMode="environment":this.video.facingMode=e?{exact:"environment"}:"user",this}},{key:"getConstraint",value:function(){return{video:this.video,audio:this.audio}}}]),e}(),l=function(){function e(n,t){o(this,e),this.devices=[],this.stream=null,this.canvasElement=t,this.videoElement=n,this.constraints=new c}return r(e,[{key:"getDevices",value:function(){var e=this;return new Promise((async function(n,t){if(e.devices.length>0)n(e.devices);else try{var r=await navigator.mediaDevices.enumerateDevices();r.forEach((function(n){n.kind&&"videoinput"===n.kind.toLocaleLowerCase()&&e.devices.push(new i.default(n))})),n(e.devices)}catch(a){console.error("GetDevices",a),t(a)}}))}},{key:"setVideoConstraints",value:function(e){return this.constraints||(this.constraints=new c),this.constraints.video=e,this}},{key:"snap",value:function(){this.canvasElement.width=this.videoElement.videoWidth,this.canvasElement.height=this.videoElement.videoHeight;var e=this.canvasElement.getContext("2d");return e.drawImage(this.videoElement,0,0,this.canvasElement.width,this.canvasElement.height),this.canvasElement}},{key:"snapAsDataUrl",value:function(){this.snap();var e=this.canvasElement.toDataURL("image/png");return e}},{key:"snapAsBlob",value:function(){var e=this;return this.snap(),new Promise((function(n){e.canvasElement.toBlob((function(e){n(e)}),"image/png",1)}))}},{key:"start",value:function(){var e=this;return new Promise((async function(n,t){try{await e.getDevices();var r=await navigator.mediaDevices.getUserMedia(e.constraints.getConstraint());e.videoElement.srcObject=r,e.stream=r,n()}catch(a){console.error("StartCamera",a),t(a)}}))}},{key:"stop",value:function(){if(this.stream){var e=this.videoElement.srcObject.getTracks();e.forEach((function(e){return e.stop()}))}}},{key:"switch",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((async function(t,r){e.constraints=e.constraints.switchFacingMode(n),e.stop();try{await e.start(),t()}catch(a){console.error("SwitchCamera",a),r(a)}}))}}],[{key:"isCameraSupported",value:function(){return"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices}},{key:"tryInvokePermission",value:function(n,t){return new Promise((async function(r,a){try{await navigator.mediaDevices.getUserMedia(new c),r(new e(n,t))}catch(i){console.error("MediaDevices",i),a(i)}}))}}]),e}();n.default=l}}]);